// vf-navigation

@import 'package.variables.scss';
// Debug information from component's `package.json`:
// ---
/*!
 * Component: #{map-get($componentInfo, 'name')}
 * Version: #{map-get($componentInfo, 'version')}
 * Location: #{map-get($componentInfo, 'location')}
 */

@import 'vf-navigation.variables.scss';

.vf-navigation__link {
  @include inline-link(
    $vf-link--color: neutral(700),
    $vf-link--visited-color: neutral(700),
    $vf-link--hover-color: neutral(900)
  );

  &:focus,
  &:hover {
    text-decoration: underline;
  }
}

.vf-navigation__item {
  [aria-current='page'],
  [aria-selected='true'] {
    color: neutral(900);
    text-shadow: 1px 0 0 currentColor; // faux bold so there won't be any layout shift
  }
}
.vf-navigation--main {
  .vf-navigation__link {
    @include set-type(text-body--2, $custom-margin-bottom: 0);
  }
}

.vf-navigation--global {
  // This is needed as part of the global header.
  // It tells the navigation to go to the end of the available space.
  @media (min-width: $vf-breakpoint--lg) {
    margin-left: auto;
  }
}


// conceptual
.vf-navigation--on-this-page {
  overflow: unset;
  // sticky behaviours
  position: sticky !important; // conflict with vf-u-fullbleed
  top: 0;
  background: white;
  z-index: 1001;

  &::before {
    box-shadow: 0 0 2px 1px rgba(0, 0, 0, .2);
  }
  .vf-navigation__item {
    --vf-text-margin--bottom: 1rem;
  }
  .vf-navigation__link {
    display: inline-block;
  }
  .vf-navigation__link.active {
    text-decoration: underline;
    text-decoration-thickness: 4px;
    text-underline-offset: 10px;
  }
}

@media (min-width: $vf-breakpoint--md) {
}

//  make it work right on mobile
@media only screen and (max-device-width: 900px) {
  .vf-navigation--on-this-page {
    overflow-x: auto;
    overflow-y: hidden;
    position: relative;
    left: -20px;
    padding-left: 20px;
    width: calc(100% + 15px);
    box-shadow: 0 0 2px 1px rgba(0, 0, 0, .2);
  }

  .vf-navigation--on-this-page.vf-u-fullbleed::before {
    box-shadow: none;
    display:  none;
  }

  .vf-navigation--on-this-page > .vf-list{
    flex-wrap: nowrap;
    margin-right: 0 !important;
  }

  .vf-navigation--on-this-page [class*="__item"] {
    flex-shrink: 0;
  }
}
